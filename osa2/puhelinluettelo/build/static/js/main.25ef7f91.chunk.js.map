{"version":3,"sources":["components/Filter.js","components/AddPerson.js","components/Persons.js","services/personService.js","components/Notification.js","components/ErrorNotification.js","App.js","index.js"],"names":["Filter","props","type","name","onChange","e","handleFilter","target","value","AddPerson","onSubmit","addPerson","newName","handleNameChange","newNumber","handleNumberChange","Persons","persons","filter","suodatin","toLowerCase","includes","map","person","number","onClick","event","deletePerson","id","baseUrl","axios","get","then","response","data","newObject","post","put","delete","Notification","message","messageType","className","ErrorNotification","App","useState","setPersons","setNewName","setNewNumber","setFilter","setMessage","errorMessage","setErrorMessage","useEffect","console","log","personService","initialPersons","length","newFilter","preventDefault","korvattava","find","nimi","personObject","some","window","confirm","returnedPerson","setTimeout","catch","error","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.25ef7f91.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Filter = (props) => {\n  return (\n    <form>\n      <div>\n        filter shown with\n        <input\n          type=\"text\"\n          name=\"name\"\n          onChange={(e) => props.handleFilter(e.target.value)}\n        />\n      </div>\n    </form>\n  );\n};\n\nexport default Filter;\n","import React from \"react\";\n\nconst AddPerson = (props) => {\n  return (\n    <form onSubmit={props.addPerson}>\n      <div>\n        name:\n        <input\n          type=\"text\"\n          name=\"name\"\n          value={props.newName}\n          onChange={(e) => props.handleNameChange(e.target.value)}\n        />\n      </div>\n      <div>\n        number:\n        <input\n          type=\"text\"\n          name=\"number\"\n          value={props.newNumber}\n          onChange={(e) => props.handleNumberChange(e.target.value)}\n        />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default AddPerson;\n","import React from \"react\";\n\nconst Persons = (props) => {\n  return (\n    <div>\n      {props.persons\n        .filter((suodatin) =>\n          suodatin.name.toLowerCase().includes(props.filter.toLowerCase())\n        )\n        .map((person) => {\n          return (\n            <div key={person.name}>\n              {person.name} {person.number}\n              <button\n                name={person.name}\n                onClick={(event) =>\n                  props.deletePerson(event, person.id, person.name)\n                }\n              >\n                delete\n              </button>\n            </div>\n          );\n        })}\n    </div>\n  );\n};\n\nexport default Persons;\n","import axios from \"axios\";\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n\tconst request = axios.get(baseUrl);\n\treturn request.then((response) => response.data);\n};\n\nconst create = (newObject) => {\n\tconst request = axios.post(baseUrl, newObject);\n\treturn request.then((response) => response.data);\n};\n\nconst update = (id, newObject) => {\n\tconst request = axios.put(`${baseUrl}/${id}`, newObject);\n\treturn request.then((response) => response.data);\n};\n\nconst deletePerson = (id) => {\n\tconst request = axios.delete(`${baseUrl}/${id}`);\n\treturn request.then((response) => response.data);\n};\n\nexport default { getAll, create, update, deletePerson };\n","import React from \"react\";\n\nconst Notification = ({ message, messageType }) => {\n  if (message === null) {\n    return null;\n  }\n  if (messageType === \"error\") {\n    return <div className=\"error\">{message}</div>;\n  } else {\n    return <div className=\"message\">{message}</div>;\n  }\n};\n\nexport default Notification;\n","import React from \"react\";\n\nconst ErrorNotification = ({ message }) => {\n  if (message === null) {\n    return null;\n  }\n\n  return <div className=\"error\">{message}</div>;\n};\n\nexport default ErrorNotification;\n","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./components/Filter\";\nimport AddPerson from \"./components/AddPerson\";\nimport Persons from \"./components/Persons\";\nimport personService from \"./services/personService\";\nimport Notification from \"./components/Notification.js\";\nimport ErrorNotification from \"./components/ErrorNotification\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filter, setFilter] = useState(\"\");\n  const [message, setMessage] = useState(null);\n  const [errorMessage, setErrorMessage] = useState(null);\n\n  useEffect(() => {\n    console.log(\"effect\");\n    personService.getAll().then((initialPersons) => {\n      setPersons(initialPersons);\n      console.log(\"data\", initialPersons);\n    });\n  }, []);\n  console.log(\"render\", persons.length, \"persons\");\n\n  const addPerson = (event) => {\n    event.preventDefault();\n    const korvattava = persons.find((nimi) => nimi.name === newName);\n\n    const personObject = {\n      name: newName,\n      number: newNumber,\n    };\n\n    if (persons.some((nimi) => nimi.name === newName)) {\n      if (\n        window.confirm(\n          `${newName} is already added to phonebook, replace the old number with a new one?`\n        )\n      );\n      personService\n        .update(korvattava.id, personObject)\n        .then((returnedPerson) => {\n          setPersons(\n            persons.map((person) =>\n              person.id !== korvattava.id ? person : returnedPerson\n            )\n          );\n\n          setNewName(\"\");\n          setNewNumber(\"\");\n          setMessage(\n            `Person \"${korvattava.name}\" phone number change on server`\n          );\n          setTimeout(() => {\n            setMessage(null);\n          }, 5000);\n        })\n        .catch((error) => {\n          setErrorMessage(\n            `Person \"${newName}\" was already removed from server`\n          );\n          setPersons(persons.filter((person) => person.id !== korvattava.id));\n        });\n      setTimeout(() => {\n        setErrorMessage(null);\n      }, 5000);\n    } else {\n      personService.create(personObject).then((returnedPerson) => {\n        setPersons(persons.concat(returnedPerson));\n        setNewName(\"\");\n        setNewNumber(\"\");\n        setMessage(`Added \"${returnedPerson.name}\"`);\n        setTimeout(() => {\n          setMessage(null);\n        }, 5000);\n      });\n    }\n  };\n\n  const deletePerson = (event, id, name) => {\n    event.preventDefault();\n    console.log(\"ID joka poistetaan: \", id);\n\n    if (window.confirm(`Delete ${name}?`)) {\n      console.log(\"Delete\");\n      personService\n        .deletePerson(id)\n        .then(setPersons(persons.filter((person) => person.id !== id)))\n        .catch((error) => {\n          setErrorMessage(`Person \"${name}\" was already removed from server`);\n          setTimeout(() => {\n            setMessage(null);\n          }, 5000);\n        });\n\n      setMessage(`Person \"${name}\" removed from server`);\n      setTimeout(() => {\n        setMessage(null);\n      }, 5000);\n    } else {\n      console.log(\"Perutaan poisto\");\n    }\n  };\n\n  const handleFilter = (newFilter) => {\n    setFilter(newFilter);\n  };\n\n  const handleNameChange = (newName) => {\n    setNewName(newName);\n  };\n  const handleNumberChange = (newNumber) => {\n    setNewNumber(newNumber);\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <ErrorNotification message={errorMessage} />\n      <Filter value={filter} handleFilter={handleFilter} />\n      <h2>add a new</h2>\n      <AddPerson\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n        addPerson={addPerson}\n        newName={newName}\n        newNumber={newNumber}\n      />\n      <h2>numbers</h2>\n      <Persons persons={persons} filter={filter} deletePerson={deletePerson} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}